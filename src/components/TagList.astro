---
import { getAllTags } from '../utils/contentLoader';
import { buildTaxonomy } from '../utils/taxonomy';
const allTags = getAllTags();
const tagEntries = buildTaxonomy(allTags);

interface Props { currentTag?: string; }
const { currentTag } = Astro.props;
---

<div style="margin-bottom: 2rem;">
  <h2 style="margin-bottom: 1rem;">Tags</h2>
  <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
    {tagEntries.map(tag => (
      <a href={`/blog/tag/${tag.slug}`}
         class={`tag ${currentTag === tag.slug ? 'tag--active' : ''}`}>
        {tag.label}
      </a>
    ))}
  </div>
</div>

<style>
  .tag--active { background: var(--color-primary); color: white; }
</style>
